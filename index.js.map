{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function fetchImages(inputValue) {\n    const searchParams = new URLSearchParams({\n        key: '46126545-8899f9a6fbc888edd135bf332',\n        q: inputValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n\n    const url = `https://pixabay.com/api/?${searchParams}`;\n\n    return fetch(url)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n}\n","import { gallery } from '../main';\n\nexport default function renderImages(images) {\n    const markup = images\n        .map((image) => {\n            const { largeImageURL, webformatURL, tags, likes, views, comments, downloads } = image;\n            return `\n            <a href=\"${largeImageURL}\" class=\"gallery-item\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\" \n                    data-likes=\"${likes}\" data-views=\"${views}\" \n                    data-comments=\"${comments}\" data-downloads=\"${downloads}\" />\n                <div class=\"image-info\">\n                    <p>Likes: ${likes}</p>\n                    <p>Views: ${views}</p>\n                    <p>Comments: ${comments}</p>\n                    <p>Downloads: ${downloads}</p>\n                </div>\n            </a>`;\n        })\n        .join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n};\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport fetchImages from \"./js/pixabay-api\";\nimport renderImages from \"./js/render-functions\";\n\nconst form = document.querySelector('.search-form');\nexport const gallery = document.querySelector('.image-gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox = null;\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    \n    const inputValue = form.elements.query.value.trim();\n    \n    if (!inputValue) {\n        iziToast.show({\n            message: 'Please enter a search query.',\n            color: 'red',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    loader.style.display = 'block';\n\n    fetchImages(inputValue)\n        .then((images) => {\n            if (images.hits.length === 0) {\n                iziToast.show({\n                    message: `Sorry, there are no images matching your search query. Please try again!`,\n                    color: 'red',\n                    position: 'topRight',\n                });\n                return;\n            }\n            gallery.innerHTML = '';\n            renderImages(images.hits);\n            if (lightbox) {\n                lightbox.refresh();\n            } else {\n                lightbox = new SimpleLightbox('.gallery a', {\n                    captions: true,\n                    captionSelector: 'img',\n                    captionsData: 'alt',\n                    captionPosition: 'bottom',\n                    captionDelay: 250,\n                });\n            };\n        })\n        .catch(() => {\n            iziToast.show({\n                message: `An error occurred while fetching images. Please try again!`,\n                color: 'red',\n                position: 'topRight',\n            });\n        })\n        .finally(() => {\n            loader.style.display = 'none';\n        });\n    \n    form.reset();\n});\n"],"names":["fetchImages","inputValue","url","response","renderImages","images","markup","image","largeImageURL","webformatURL","tags","likes","views","comments","downloads","gallery","form","loader","lightbox","event","iziToast","SimpleLightbox"],"mappings":"6vBAAe,SAASA,EAAYC,EAAY,CAS5C,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,CAEmD,GAEpD,OAAO,MAAMC,CAAG,EACX,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CChBe,SAASC,EAAaC,EAAQ,CACzC,MAAMC,EAASD,EACV,IAAKE,GAAU,CACZ,KAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA,uBACIC,CAAa;AAAA,4BACRC,CAAY,UAAUC,CAAI;AAAA,kCACpBC,CAAK,iBAAiBC,CAAK;AAAA,qCACxBC,CAAQ,qBAAqBC,CAAS;AAAA;AAAA,gCAE3CH,CAAK;AAAA,gCACLC,CAAK;AAAA,mCACFC,CAAQ;AAAA,oCACPC,CAAS;AAAA;AAAA,iBAG7C,CAAS,EACA,KAAK,EAAE,EACZC,EAAQ,mBAAmB,YAAaT,CAAM,CAClD,CCZA,MAAMU,EAAO,SAAS,cAAc,cAAc,EACrCD,EAAU,SAAS,cAAc,gBAAgB,EACxDE,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,KAEfF,EAAK,iBAAiB,SAAWG,GAAU,CACvCA,EAAM,eAAc,EAEpB,MAAMlB,EAAae,EAAK,SAAS,MAAM,MAAM,OAE7C,GAAI,CAACf,EAAY,CACbmB,EAAS,KAAK,CACV,QAAS,+BACT,MAAO,MACP,SAAU,UACtB,CAAS,EACD,MACH,CAEDH,EAAO,MAAM,QAAU,QAEvBjB,EAAYC,CAAU,EACjB,KAAMI,GAAW,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC1Be,EAAS,KAAK,CACV,QAAS,2EACT,MAAO,MACP,SAAU,UAC9B,CAAiB,EACD,MACH,CACDL,EAAQ,UAAY,GACpBX,EAAaC,EAAO,IAAI,EACpBa,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAIG,EAAe,aAAc,CACxC,SAAU,GACV,gBAAiB,MACjB,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClC,CAAiB,EAER,EACA,MAAM,IAAM,CACTD,EAAS,KAAK,CACV,QAAS,6DACT,MAAO,MACP,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXH,EAAO,MAAM,QAAU,MACnC,CAAS,EAELD,EAAK,MAAK,CACd,CAAC"}